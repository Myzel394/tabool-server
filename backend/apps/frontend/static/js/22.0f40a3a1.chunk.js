(this["webpackJsonptabool-website"]=this["webpackJsonptabool-website"]||[]).push([[22],{1039:function(e,t,n){"use strict";var r=n(2),c=(n(1),n(1011)),i=n(75),s={width:"100%"};t.a=function(e){var t=e.title,n=e.children;return Object(r.jsxs)(c.a,{container:!0,spacing:1,children:[Object(r.jsx)(c.a,{item:!0,children:Object(r.jsx)(i.a,{variant:"h5",component:"h1",children:t})}),Object(r.jsx)(c.a,{item:!0,style:s,children:n})]})}},1103:function(e,t,n){"use strict";n.r(t);var r=n(2),c=n(4),i=n(12),s=n(1),o=n(948),a=n(362),d=n(516),j=n(950),l=n(1007),b=n(40),u=n(1001),O=n(20),h=n(1032),x=n(61),m=n(37),f=n.n(m),p=n(1039),v=n(1008),y=n(1012),g=n(1010),w=n(1044),S=n(305),k=n(1045),L=n(1011),A=n(75),C=n(1003),D=n(361),G=n(1084),E=n(163),z=n(1036),B=n(123),I=n(1056),M=n.n(I),P={apple:D.e,asus:G.a,dell:G.b,google:D.C,hp:G.c,huawei:G.d,microsoft:D.L,oneplus:G.f,lg:G.e,samsung:G.g,xiaomi:G.h},F=function(e){var t,n,c=e.id,a=e.ip,d=e.isThis,j=e.lastActivity,l=e.userAgent,u=e.onDelete,m=Object(o.a)().t,f=Object(b.f)(),p=Object(O.o)().addError,D=Object(s.useState)(!1),G=Object(i.a)(D,2),I=G[0],F=G[1],J=Object(s.useState)(!1),N=Object(i.a)(J,2),T=N[0],U=N[1],V=Object(z.a)((function(){return f(c)}),{onError:function(e){return p(e,void 0,B.a.ErrorMutating)},onSuccess:u}),W=V.mutate,Z=V.isLoading,$=Object(s.useMemo)((function(){return new M.a(l)}),[l]),_=null===(t=$.getDevice().vendor)||void 0===t||null===(n=t.toLowerCase)||void 0===n?void 0:n.call(t),q=_&&P[_];return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)(v.a,{button:!0,disabled:Z,onClick:function(){return U(!0)},children:[Object(r.jsx)(y.a,{children:q&&Object(r.jsx)(q,{size:"2rem"})}),Object(r.jsx)(x.U,{children:function(e){return Object(r.jsx)(g.a,{primaryTypographyProps:{color:d?"primary":"textPrimary"},primary:m("{{browserName}} ({{browserVersion}}) auf einem {{os}}-Ger\xe4t",{browserName:$.getBrowser().name,browserVersion:$.getBrowser().version,os:$.getOS().name})+(d?" ".concat(m(" (Dieses Ger\xe4t)")):""),secondary:m("Letzte Aktivit\xe4t {{lastActivity}}",{lastActivity:e.to(j)})})}}),Object(r.jsx)(w.a,{children:Object(r.jsx)(S.a,{disabled:d,edge:"end",onClick:function(){return F(!0)},children:Object(r.jsx)(E.n,{})})}),Z&&Object(r.jsx)(k.a,{})]},c),Object(r.jsx)(x.S,{isOpen:T,primaryButton:null,title:m("Details"),onClose:function(){return U(!1)},children:Object(r.jsxs)(L.a,{container:!0,spacing:2,component:"dl",children:[Object(r.jsxs)(L.a,{item:!0,children:[Object(r.jsx)(A.a,{variant:"body1",component:"dd",children:m("IP-Adresse")}),Object(r.jsx)(A.a,{variant:"body2",component:"dt",color:"textSecondary",children:a})]}),Object(r.jsxs)(L.a,{item:!0,children:[Object(r.jsx)(A.a,{variant:"body1",component:"dd",children:m("User-Agent")}),Object(r.jsx)(A.a,{variant:"body2",component:"dt",color:"textSecondary",children:l})]}),Object(r.jsxs)(L.a,{item:!0,children:[Object(r.jsx)(A.a,{variant:"body1",component:"dd",children:m("Letzte Aktivit\xe4t")}),Object(r.jsx)(A.a,{variant:"body2",component:"dt",color:"textSecondary",children:j.format("LLL")})]})]})}),Object(r.jsxs)(x.S,{isOpen:I,primaryButton:Object(r.jsx)(x.L,{onClick:W,children:m("Entfernen")}),title:m("Ger\xe4t entfernen"),onClose:function(){return F(!1)},children:[Object(r.jsx)(C.a,{children:m("M\xf6chtest du dieses Ger\xe4t entfernen? Du musst dich dann auf diesem Ger\xe4t dann wieder anmelden, um Zugriff zu erhalten.")}),Object(r.jsx)(h.a,{severity:"info",children:m("Wenn dir dieses Ger\xe4t nicht bekannt ist, solltest du es dringend entfernen.")})]})]})},J=function(){var e,t,n,m=Object(o.a)().t,v=Object(b.w)(),y=Object(O.m)(),g=Object(s.useState)([]),w=Object(i.a)(g,2),S=w[0],k=w[1],L=Object(u.a)("fetch_sessions",v,Object(c.a)(Object(c.a)({},y),{},{onSuccess:function(e){return k(e.results)}})),A=L.isLoading,C=L.error,D=L.isError;return Object(r.jsx)(x.k,{children:Object(r.jsx)(p.a,{title:m("Angemeldete Ger\xe4te"),children:Object(r.jsxs)(a.a,{children:[A&&Object(r.jsx)(d.a,{p:2,justifyContent:"center",alignItems:"center",display:"flex",children:Object(r.jsx)(j.a,{})}),D&&Object(r.jsx)(h.a,{severity:"error",children:null!==(e=null===C||void 0===C||null===(t=C.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.nonFieldErrors)&&void 0!==e?e:m("Daten konnten nicht geladen werden.")}),S&&Object(r.jsx)(l.a,{children:S.map((function(e){return Object(r.jsx)(F,Object(c.a)(Object(c.a)({},e),{},{onDelete:function(){return k((function(t){return f()(t,{$splice:[[t.findIndex((function(t){return t.id===e.id})),1]]})}))}}),e.id)}))})]})})})};t.default=Object(s.memo)(J)}}]);